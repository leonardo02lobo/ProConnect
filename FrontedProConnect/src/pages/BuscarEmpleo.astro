---
import TarjetaEmpleo from "../components/Tarjetas/TarjetaEmpleo.astro";
import EmpleoLayout from "../layouts/EmpleoLayout.astro";
import type { Empleo } from "../models/Empleo";
import { ObtenerEmpleos } from "../services/EmpleosService";

const Empleos: Empleo[] = await ObtenerEmpleos();
---

<EmpleoLayout title="Buscar Empleo">
    <div class="flex flex-col gap-4" id="empleos-container">
        {
            Empleos.map((element: Empleo) => (
                <TarjetaEmpleo
                    nombrePuesto={element.Titulo}
                    nombreEmpresa={element.empresa.nombreEmpresa}
                    ubicacion={element.empresa.pais}
                    imagenEmpresa={element.empresa.logo}
                    id={element.id ?? 0}
                />
            ))
        }
    </div>
</EmpleoLayout>
<script src="./../scripts/js/RenderizarBuscarEmpleo.js"></script>
<script src="./../scripts/js/RenderizarMirarEmpleo.js"></script>
<script src="./../scripts/js/ValidarSesion.js"></script>